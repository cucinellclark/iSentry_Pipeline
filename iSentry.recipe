
Bootstrap:library
From: ubuntu:18.04
Stage: build

%help
    Add helpful information

%setup
    mkdir ${SINGULARITY_ROOTFS}/opt/bin
    mkdir ${SINGULARITY_ROOTFS}/opt/src

%files
    /home/centos/isentry_pipeline_singularity/Programs/SPAdes/SPAdes-3.15.0-Linux /opt/src 
    /home/centos/isentry_pipeline_singularity/Programs/diamond/diamond /opt/bin
    /home/centos/isentry_pipeline_singularity/Programs/kraken2 /opt/src

%post
    ###setup dependencies
    #apt-get install -y software-properties-common
    #apt-get install -y wget

    ###setup links
    ln -s /opt/src/SPAdes-3.15.0-Linux/bin/spades.py /opt/bin/spades.py
    ln -s /opt/src/kraken2/kraken2 /opt/bin/kraken2

%environment
    export TEST_VAR='test build variable'
    export PATH=/opt/bin:$PATH

%runscript

%labels
    CREATOR Clark
